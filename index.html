<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Framework - Operating System</title>
    
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/ui_elements.css">
</head>
<body class="lang-de mode-app1">

    <div id="legal-overlay" class="overlay">
        <div class="modal">
            <h1>Haftungsausschluss & Rechtlicher Rahmen</h1>
            <p>Die Nutzung dieses Frameworks erfolgt auf eigenes Risiko. Der Betreiber ist niemals haftbar f√ºr rechtliche oder wirtschaftliche Folgen. Es gilt deutsches Recht. Mit dem Start best√§tigen Sie die AGB vollumf√§nglich.</p>
            <button onclick="app.acceptLegal()" class="btn-start">Akzeptieren & Starten</button>
        </div>
    </div>

    <header>
        <div class="nav-container">
            <nav class="app-switcher">
                <button onclick="app.switchApp(1)" id="btn-app1">App 1: Wunderland</button>
                <button onclick="app.switchApp(2)" id="btn-app2">App 2: Professional</button>
            </nav>
            <div class="lang-switcher">
                <button onclick="app.setLanguage('de')">DE</button>
                <button onclick="app.setLanguage('en')">EN</button>
                <button onclick="app.setLanguage('es')">ES</button>
            </div>
        </div>
    </header>

    <main id="main-stage">
        
        <section id="view-app1">
            <div class="kisten-lager">
                <div class="toy-box" id="box-betrieb" onclick="app.openKiste('betrieb')">
                    <span class="icon">üì¶</span>
                    <label>Framework Betrieb</label>
                </div>
                <div class="toy-box" id="box-agentur" onclick="app.openKiste('agentur')">
                    <span class="icon">üíº</span>
                    <label>Agency Framework (EN)</label>
                </div>
            </div>

            <nav id="breadcrumb-path">Navigation: Start</nav>

            <div id="module-selector" class="selection-grid">
                </div>

            <div id="construction-area">
                <div class="form-blueprint">
                    <div id="snippet-slots">
                        </div>
                </div>
            </div>
        </section>

        <section id="view-app2" class="hidden">
            <div id="compliance-bar">
                <div class="compliance-status">
                    <span id="secret-seal" onclick="app.exportSecretRegister()" title="Register Exportieren">üõ°Ô∏è</span>
                    <div id="ticker-text">System: Annex J-M Compliance active</div>
                </div>
            </div>

            <div class="grid-212">
                <div class="side-panel">
                    <h3>User A</h3>
                    <div class="field-group">
                        <label>Zahlung</label><input type="file" onchange="app.logAction('A: Pay Upload')">
                        <label>Bericht</label><input type="file" onchange="app.logAction('A: Report Upload')">
                    </div>
                </div>

                <div class="center-panel">
                    <div id="active-module-display">Vertragstext Fokus</div>
                    <textarea id="contract-editor" placeholder="Vertragsinhalt hier bearbeiten..."></textarea>
                    
                    <div class="ampel-system">
                        <div class="light green" onclick="app.logAction('Compliance: GREEN')"></div>
                        <div class="light yellow" onclick="app.logAction('Compliance: YELLOW - Escalation')"></div>
                        <div class="light red" onclick="app.logAction('Compliance: RED - Violation')"></div>
                    </div>
                </div>

                <div class="side-panel">
                    <h3>Partner B</h3>
                    <div class="field-group">
                        <label>Zahlung</label><input type="file" onchange="app.logAction('B: Pay Upload')">
                        <label>Bericht</label><input type="file" onchange="app.logAction('B: Report Upload')">
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer id="dynamic-footer">
        <iframe src="assets/footer.html" frameborder="0" style="width:100%; height:80px; border:none; overflow:hidden;"></iframe>
    </footer>

    <div id="paywall" class="hidden overlay">
        <div class="modal">
            <h3>Premium Zugriff</h3>
            <p>Bitte schlie√üen Sie ein Abonnement ab, um dieses Modul freizuschalten.</p>
            <button onclick="app.redirectToStripe()" class="btn-pay">Jetzt bezahlen (Stripe/PayPal)</button>
            <button onclick="app.closePaywall()" class="btn-close">Schlie√üen</button>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
