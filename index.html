<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>EPTEC</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Referrer -->
  <meta name="referrer" content="no-referrer" />

  <!-- Favicon -->
  <link rel="icon" href="./favicon.ico" />

  <!-- =========================================================
       SECURITY — SINGLE CSP (GitHub Pages safe)
       NOTE: inline <script> is blocked (script-src 'self')
       ========================================================= -->
  <meta http-equiv="Content-Security-Policy"
        content="
          default-src 'self';
          base-uri 'self';
          object-src 'none';
          form-action 'self';
          upgrade-insecure-requests;
          img-src 'self' data:;
          media-src 'self' data:;
          style-src 'self' 'unsafe-inline';
          script-src 'self';
          connect-src 'self' https:;
        ">

  <!-- =========================================================
       STYLES
       ========================================================= -->
  <link rel="stylesheet" href="./assets/style.css" />
  <link rel="stylesheet" href="./assets/ui_elements.css" />
  <link rel="stylesheet" href="./assets/hidden.css" />
  <link rel="stylesheet" href="./assets/imagine.css" />

  <!-- =========================================================
       SCRIPTS — CANONICAL ORDER (CSP-safe, stable)
       ========================================================= -->

  <!-- 1) FOUNDATION -->
  <script src="./scripts/config.js" defer></script>
  <script src="./scripts/ui_state.js" defer></script>

  <!-- 2) BACKEND (Phase 1) -->
  <script src="./scripts/mock_backend.js" defer></script>

  <!-- 3) STATE ADAPTER -->
  <script src="./scripts/state_manager.js" defer></script>

  <!-- 4) KERNEL / LOGIC -->
  <script src="./scripts/logic.js" defer></script>

  <!-- 5) CLICKMASTER DVO -->
  <script src="./scripts/eptec_clickmaster_dvo.js" defer></script>

  <!-- 6) EFFECTS -->
  <script src="./scripts/sounds.js" defer></script>

  <!-- 7) UI-CONTROL -->
  <script src="./scripts/legal_disclaimer.js" defer></script>
  <script src="./scripts/ui_controller.js" defer></script>

  <!-- 7a) CAPTURE MODE INTENT -->
  <script src="./scripts/ui_capture_intent.js" defer></script>

  <!-- 7b) MEDIA EXECUTOR -->
  <script src="./scripts/media_executor.js" defer></script>

  <!-- 8) ASSISTANTS -->
  <script src="./scripts/registration_engine.js" defer></script>
  <script src="./scripts/transparency_ui.js" defer></script>
  <script src="./scripts/room1_framework_assistant.js" defer></script>
  <script src="./scripts/consent_gates.js" defer></script>
  <script src="./scripts/evidence_qc.js" defer></script>
  <script src="./scripts/room1_framework_builder.js" defer></script>
  <script src="./scripts/room1_ambience.js" defer></script>

  <!-- 9) API / MAIN -->
  <script src="./scripts/api_client.js" defer></script>
  <script src="./scripts/billing_client.js" defer></script>
  <script src="./scripts/room2_controlling.js" defer></script>
  <script src="./scripts/ai_services.js" defer></script>
  <script src="./scripts/ai_admin_panel.js" defer></script>
  <script src="./scripts/ai_widgets.js" defer></script>
  <script src="./scripts/main.js" defer></script>

  <!-- 10) DEMO -->
  <script src="./scripts/eptec_demo_allinone.js" defer></script>
</head>

<body>

<!-- =========================================================
     START / MEADOW
     ========================================================= -->
<section id="meadow-view" class="scene grassy-meadow" data-logic-id="scene.meadow">
  <div class="sun"></div>
  <div class="stream"></div>

  <h1 id="eptec-title">Contract Office</h1>
  <h2 id="eptec-subtitle">by Johannes Büngener</h2>

  <div id="system-clock" data-logic-id="system-clock"></div>

  <div class="login-box">
    <input id="login-username" type="text" data-logic-id="login-username" placeholder="Username" />
    <div class="pw-wrap">
      <input id="login-password" type="password" autocomplete="off"
             data-logic-id="login-password" placeholder="Password" />
    </div>
    <button id="btn-login" type="button" data-logic-id="btn-login">Login</button>
    <div id="login-message" class="system-msg" data-logic-id="login-message"></div>

    <button id="btn-register" type="button" data-logic-id="btn-register">Register</button>
    <button id="btn-forgot" type="button" data-logic-id="btn-forgot">Forgot password</button>
    <button id="btn-demo" type="button" data-logic-id="btn-demo">Demo</button>

    <div class="pw-wrap">
      <input id="admin-code" type="password" autocomplete="off"
             data-logic-id="admin-code" placeholder="Master password" />
    </div>
    <button id="admin-submit" type="button" data-logic-id="admin-submit">Enter</button>
  </div>
</section>

<!-- Der restliche Body (Tunnel, Doors, Rooms, Modals, Footer)
     bleibt exakt wie in deiner geposteten Version -->
</body>
</html>

